<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Pin assignment - eYRC 2021-22: Soil Monitoring Bot (SM)</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <!-- 
        <link rel="icon" href="../../favicon.svg">
         -->
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../theme_intro.html">Soil Monitoring Bot</a></li><li class="chapter-item "><a href="../../TOC.html">Table of Contents</a></li><li class="chapter-item expanded "><a href="../../md_files/task_0/Task_0.html">Task 0</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../md_files/task_0/installation.html">Introduction &amp; Installation</a></li><li class="chapter-item "><a href="../../md_files/task_0/getting_started.html">Getting started with Quartus</a></li><li class="chapter-item expanded "><a href="../../md_files/task_0/pin_assignment.html" class="active">Pin assignment</a></li><li class="chapter-item "><a href="../../md_files/task_0/verification.html">Verifying Installation</a></li></ol></li><li class="chapter-item "><a href="../../md_files/task_1/Task_1.html">Task 1</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../md_files/task_1/Task_1_A.html">Task 1 A : Combinational Circuit</a></li><li class="chapter-item "><a href="../../md_files/task_1/Task_1_B.html">Task 1 B : Sequential Circuit</a></li><li class="chapter-item "><a href="../../md_files/task_1/Task_1_C.html">Task 1 C : Finite State Machine</a></li><li class="chapter-item "><a href="../../md_files/task_1/Task_1_D.html">Task 1 D : Frequency Scaling and PWM</a></li></ol></li><li class="chapter-item "><a href="../../md_files/task_2/Task_2.html">Task 2</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../md_files/task_2/Task_2_A.html">Task 2 A : Analog to Digital Converter</a></li><li class="chapter-item "><a href="../../md_files/task_2/Task_2_B.html">Task 2 B : Universal Asynchronous Receiver Transmitter</a></li></ol></li><li class="chapter-item "><a href="../../md_files/task_3/Task_3.html">Task 3</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../md_files/task_3/Flex_instructions.html">Task 3 A : Flex Printing &amp; Block Making</a></li><li class="chapter-item "><a href="../../md_files/task_3/hardware_test.html">Task 3 B : Hardware Testing</a></li><li class="chapter-item "><a href="../../md_files/task_3/bot_building.html">Task 3 C : Bot Building</a></li></ol></li><li class="chapter-item "><a href="../../md_files/additional_resources/add_ons.html">Additional Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <!-- <html>
	<head>
	<style>
		
	@media only screen and (max-width: 600px) {
	  .eyrc_ckt{
			display:none;
		}
	}

	</style>
	</head>
	<body>
		<div>
		<center></center>
			<div style="display:flex; justify-content:space-between;padding:10px;padding-top:0">
				<div >
					<img src="http://mooc.e-yantra.org/img/eYantra_logo.svg" alt="e-yantra_logo" height="40px" style="padding:10px 15px;" />
				</div>
				<div>
					<img src="https://raw.githubusercontent.com/kalindkaria/typora-md-assets/master/maze_bot/assets/eyrc-header.svg" height="80px"  class="eyrc_ckt">
				</div>
				<div style="font-weight:900;font-size:20px;text-align:center;padding:10px 15px">
					Robotics Competition<br>
					2020-21
				</div>
			</div>
			
		</div>
	</body>
</html>


 -->
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div style="width:100%">
                        <html>
	<head>
	<style>
		
	@media only screen and (max-width: 600px) {
	  .eyrc_ckt{
			display:none;
		}
	}

	</style>
	</head>
	<body>
		<div>
		<center></center>
			<div style="display:flex; justify-content:space-between;padding:10px;padding-top:0">
				<div >
					<img src="http://mooc.e-yantra.org/img/eYantra_logo.svg" alt="e-yantra_logo" height="40px" style="padding:10px 15px;" />
				</div>
				<div>
					<img src="https://raw.githubusercontent.com/kalindkaria/typora-md-assets/master/maze_bot/assets/eyrc-header.svg" height="80px"  class="eyrc_ckt">
				</div>
				<div style="font-weight:900;font-size:20px;text-align:center;padding:10px 15px">
					Robotics Competition<br>
					2020-21
				</div>
			</div>
			
		</div>
	</body>
</html>



                    </div>
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">eYRC 2021-22: Soil Monitoring Bot (SM)</h1>

                    <div class="right-buttons">
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.back{
	position: fixed;
	width: 300px;
	height: 300px;
	top: 50%;
	left: 50%;
    margin-top: auto; 
    margin-left: auto; 
	opacity: 0.05;
	}
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}
h1 {
  text-align: center;
}
p.date {
  text-align: right;
}
p.main {
  text-align: justify;
}
</style>
<center><h2><a class="header" href="#3-pin-assignment-and-loading-the-design-on-fpga-board" id="3-pin-assignment-and-loading-the-design-on-fpga-board">3. Pin Assignment and Loading the design on FPGA board</a></h2></center>
<hr />
<h3><a class="header" href="#1-pin-description" id="1-pin-description"> 1. Pin Description</a></h3>
<p align="justify" class="main">Before starting with the pin assignment let’s first look at how many I/O pins are provided with
DE0-Nano packages. Generally FPGAs tend to have lots of pins and we can divide them into
two bins: ”General User Pins” and ”Dedicated Pins”.</p>  
<p>DE0-Nano package contains the following General user I/O pins:</p>
<ul>
<li>8 green LEDs</li>
<li>2 debounced pushbuttons</li>
<li>4-position DIP switch
Dedicated pins includes</li>
<li>Two 40-pin Headers (GPIOs) provide 72 I/O pins, 5V power pins, two 3.3V power pins and four ground pins.</li>
<li>2x13 header, A/D converter</li>
</ul>
<p align="center">
  <img src="./images/PinPlanning/GPIO-0.png", width= 230, height=350>
  <img src="./images/PinPlanning/de0-nano-top.png", width= 230, height=350>
  <img src="./images/PinPlanning/GPIO-1.png", width= 230, height=350>
</p>
<p align="center">
  <img src="./images/PinPlanning/GPIO-2.png">
  <img src="./images/PinPlanning/de0-nano-bot.png">
</p>
<p align="center">
  <img src="./images/pin.png">
</p>
​	                    
<p align="justify" class="main">You can assign input and output (I/O) signals to package pins in your design with the help of
above table. Using the Pin Planner, you can assign I/O locations, prohibit I/O locations. This
process operates on the top entity in your design. This allows you to assign input and output
signals to package pins before the underlying logic in the design has been developed.
Further in this section we will map the I/O pins created in our design with the actual pins of
the DE0-Nano. Before starting pin assignment make sure to do Analysis Elaboration check.</p>
<h3><a class="header" href="#2-pin-assignment" id="2-pin-assignment"> 2. Pin Assignment</a></h3>
<ol>
<li><p align="justify" class="main">Click on <b>Assignments → Pin Planner</b>, which opens the Pin Planner, the Pin
Planner shows the I/O that we have created in our design.</p></li>
<p align="center">
  <img src="./images/PinPlanning/pinplanning1.png">
</p> 
<li><p align="justify" class="main">Now assign the pins by either dragging and dropping the nodes(Blue box) on the required
pins(Red box), or click on the drop down menu(Black box) to search and select a pin.
We will select LED[0] as the output of the AND gate and switch 0 and 1 for input
signal A and B.</p></li>
<p align="center">
  <img src="./images/NewChangesImages/pinplan1.png">
</p> 
<p align="justify" class="main">Else you can simply type the pin number in location field next to the corresponding I/O node. For eg: To select LED[0] as output, type it's pin number i.e. PIN_A15(refer table above) as shown in the image below.</p>
<li>Make sure to select the appropriate I/O standard by referring to the board manual or go
with the default setting.</p></li>
<p align="center">
  <img src="./images/NewChangesImages/pinplan2.png">
</p> 
<li><p align="justify" class="main">Once all the pins are assigned, Go to <b>Processing→Start I/O Assignment Analysis.</b>
The analysis checks pin assignments and surrounding logic for illegal assignments and
violations of board layout rules.</p></li>
<p align="center">
  <img src="./images/PinPlanning/pinplanning4.png">
</p> 
</ol>
<h3><a class="header" href="#3-downloading-the-code-to-de0-nano-fpga-board-a-name--video" id="3-downloading-the-code-to-de0-nano-fpga-board-a-name--video"> 3. Downloading the code to DE0 Nano FPGA Board <a name = "video"></a></h3>
<p align="justify" class="main"> Before starting, Make sure the board is powered ON and connected to the computer through
an USB Cable.</p>
<ol>
<li><p align="justify" class="main">Compile the Project by Clicking on <b>Start Compilation.</b> This creates an <b>SRAM object file</b>(.sof file). This file is used to program the Device. </p></li>
<p align="center">
  <img src="./images/NewChangesImages/assign2.png">
</p> 
<li><p align="justify" class="main">Open the programmer by going to <b>Tools→Programmer.</b></p></li>
<p align="center">
  <img src="./images/NewChangesImages/download1.png">
</p> 
<li> <p align="justify" class="main">Click on <b>Hardware Setup.</b> The Device required must be listed under ”Currently available hardware”. If not, check if the device drivers 
are correctly installed. Refer to this <u><a href="https://www.terasic.com.tw/wiki/Altera_USB_Blaster_Driver_Installation_Instructions">link</a></u> for USB Blaster Installation Instructions. Choose the hardware from the dropdown menu.</p></li>
<p align="center">
  <img src="./images/NewChangesImages/download2.png">
</p> 
<li><p align="justify" class="main">If the file is not listed, it can be manually added by clicking on <b>Add File.</b> The .sof file
can be found the output directory inside the project directory.</p> </li>
<p align="center">
  <img src="./images/NewChangesImages/download4.png">
</p> 
<li><p align="justify" class="main">Make sure the Program/Configure checkbox is ticked. </p></li>
<p align="center">
  <img src="./images/NewChangesImages/download5.png">
</p> 
<li><p align="justify" class="main">Click on <b>Start</b> to start the programming process. <b>Start</b> button will be enabled when the
’DEO NANO’ board is connected to USB port of your device. </p></li>
<p align="center">
  <img src="./images/NewChangesImages/download6.png">
</p> 
<li> <p align="justify" class="main">The .sof file is volatile i.e. the code will run as long as the board is powered on. Once power to the board is turned off then the code will be erased. So, to permanently upload the code to the DE0-Nano board we generate .jic file and upload this to the board using same steps. Refer video below to understand how to generate and upload .jic file.</p></li>
<p align="center">
<video width="640" height="360" controls muted>
    <source src="./images/pin_assignment/jic.mp4" type="video/mp4">
  </video>
</p>
</ol>
<blockquote>
<p><em><strong>Note : The code uploaded using .jic file will start executing only after the DE0-Nano board is turned off and back on. Now even if the power is turned off, code is retained and DE0-Nano executes it as soon as power is turned on.</strong></em></p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../md_files/task_0/getting_started.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../md_files/task_0/verification.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../md_files/task_0/getting_started.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../md_files/task_0/verification.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-145861739-2', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
